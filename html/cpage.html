<!DOCTYPE HTML>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; utf-8">
    <meta charset="UTF-8">

    <title> @alreylz WOZ client </title>

    <link rel="stylesheet" href="browser-client.css">

</head>

<body>
<h1> WOZ Client</h1>
<div class="card-set">
    <!-- Box showing the status of the connection with the websocket server -->
    <div id="ws-server-connection-status" class="card">
        <h3> WebSocket Server Connection Status:</h3>
        <ul>
            <li>Connection:<span class="status-box"> </span></li>
            <li>Hostname: <span id="conn-hostname"> </span></li>
        </ul>
    </div>


    <!-- Prompt to connect to a remote websocket server -->
    <div id="connection-prompt" class="card">
        <label for="hostname"> Enter here the hostname of the server to connect to </label> <input id="hostname"
                                                                                                   type="text"
                                                                                                   name="ip-port"/>
        <button id="connect" onclick="tryConnectWS();"> Connect</button>
    </div>


    <div id="GameClientGeneralStatus" class="card-big  card-set">
        <div class="inner-flex-col card">
            <ul>
                <li>Current Unity Scene: <span data-id="m-SceneName"> N/A </span></li>
                <li>ActiveGraph : <span data-id="m-ActiveGraphName"> N/A </span></li>
            </ul>
        </div>
        <div class="inner-flex-col card">
            Antilatency Devices: <span data-id="m-AntilatencyDeviceList"> N/A </span>
        </div>
        <div class="inner-flex-col card">
            <ul>
                <li>Travelled Distance <span data-id="m-TravelledDistance"> N/A </span></li>
                <li>Interaction Counter <span data-id="m-InteractionCounter"> N/A </span></li>
                
            </ul>
        </div>
    </div>


    <div class="card">
        <h3><span class="card-header"> RPCs</span></h3>
        <div class="row">
            <input id="f-SceneName" type="text"
                   placeholder="Write name of the scene to load in the remote side."/>
            <button data-id="b-LoadScene"> Load Scene</button>
        </div>

        <div class="row">
            <label for="f-GraphName">Graph name</label> <input type="text"
                                                               placeholder="Enter the name of the graph to load."
                                                               id="f-GraphName"/>
            <label for="checkbox-LoadRenderInfo"> Load Render Info? </label>
            <input id="checkbox-LoadRenderInfo" type="checkbox" checked="true"/>

            <button data-id="b-LoadGraph"> Load Graph</button>
        </div>
        <div id="graph-control-panel">
            <div> -Active graph name goes here-</div>
            <button data-id="b-HideEdges"> Hide edge/s</button>
            <button data-id="b-ShowEdges"> Show edge/s</button>
        </div>

    </div>


    <!-- Position  and rotation map -->
    <div id="GraphicPosRotMonitor" class="card-big row">

        <h3 class="card-header row"> Rotation and Position Monitor</h3>

        <!-- SVG Panel where the remote coords and rotation are represented -->
        <svg id="world2D" width="100%" height="500" class="flex-row">
            <!-- User representation : a circle + a line which states the gazing direction -->
            <g id="user-rep">
                <circle class="user-head-svg" cx="0" cy="0" r="15"></circle>
                <path id="user-head-dir"></path>
                <!-- <image class="user-head-icon" href="img1.JPG" x="0" y="0" width="1" height="1"/>-->

            </g>

        </svg>
    </div>

    <div>
        <div id="pageContent" class="card-set">

            <!-- Panel for viewing and configuring the periodic monitoring of data from the game -->
            <div id="monitoring-config-panel" class="card">
                <h3><span class="card-header">Remote Websocket Monitoring configuration</span></h3>
                <div class="row">
                    Here you can put whatever is currently being monitored.
                </div>


                <div class="row">
                    <label for="checkbox-MonitorGameView"> Monitor Game View </label> <input
                        id="checkbox-MonitorGameView"
                        type="checkbox" checked="checked"/>
                    <label for="f-TMonitorGameview"> Period </label> <input type="number" id="f-TMonitorGameview">
                </div>

                <div class="row">
                    <label for="checkbox-MonitorPosRot"> Monitor User position and rotation </label> <input
                        id="checkbox-MonitorPosRot" type="checkbox" checked="checked"/>
                    <label for="f-TMonitorPosRot"> Monitoring period </label> <input type="number"
                                                                                     id="f-TMonitorPosRot"/>
                </div>
                <button data-id="b-GameMonitoringConfiguration"> Send Changes</button>

            </div>


            <div class="card">
                <h3><span class="card-header"> Experiment Log Configuration </span></h3>

                <div id="ExperimentLogCurrentConfiguration" class="row">
                    Current Experiment Log Configuration
                    <button id="b-EditCurrentLogConfig"> Edit Configuration</button>
                </div>

                <div class="row">

                    <div class="row">
                        <label for="f-UserID"> Identifier of the user:</label>
                        <input id="f-UserID" type="text" placeholder="Put here the id of the user, to identify it"/>
                    </div>

                    <label for="f-ExpCondition"> Experimental Condition </label>
                    <select id="f-ExpCondition" name="f-NumExpCondition">
                        <option value="0"> Teleport</option>
                        <option value="1"> Physical Movement</option>
                    </select>

                    <select id="s-NamedTimers">
                        <option value="trainingDuration"> TrainingDuration</option>
                        <option value="experimentDuration"> ExperimentDuration</option>
                        <!-- add more dynamically here -->
                    </select>


                    <button data-id="b-StartNamedTimer">Start Named Timer</button>
                    <button data-id="b-PauseNamedTimer"> Pause Named Timer</button>
                    <button data-id="b-PauseNamedTimer">Stop Named Timer</button>


                    <button data-id="b-EndExperiment"> End Experiment</button>
                </div>
            </div>


        </div>


        <div class="card">
            <h3> Remote User View </h3>
            <img id="remoteView" width="480px" height="320px" src=""/>
        </div>


        <div id="client-log">

            <!-- here raw incoming messages will be put -->
        </div>
        <button onclick="ClearClientLog()"> Clear log</button>


        <h2>Monitoring</h2>
        <p>


            Status of the connection:
            Scene:
            User looking at:
            Antilatency list of connected devices:
            Head displacement data: e.g. position.

            Ordering status: of the nodes.

        </p>

        <h2> RPCs</h2>
        <p>
            ChangeScene(nameOfTheScene);
            SendChatMessage
            HideAllNodes
            HideNode
            HideAllEdges
            LoadGraph(nameOfGraph,bool loadRenderingInfo)


        </p>


        <!-- f- for field names -->
        <!-- b- for button id's -->


    </div>
</div>


<script src="rpcs.js"></script>
<script src="browser-client.js"></script>

</body>


</html>